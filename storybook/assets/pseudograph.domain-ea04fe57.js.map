{"version":3,"file":"pseudograph.domain-ea04fe57.js","sources":["../../../examples/dist/graph-domain/pseudograph.style.js","../../../examples/dist/graph-domain/pseudograph.domain.js"],"sourcesContent":["import { makeResolver } from \"../resolver.js\";\nexport const resolver = makeResolver(\"graph-domain\");\nexport default \"canvas {\\n  width = 400\\n  height = 400\\n}\\n\\nlayout = [dots, loops, text]\\n\\ncolor {\\n  black = #000000\\n  white = #ffffff\\n}\\n\\nnum {\\n  radius = 5\\n  labelDist = 5\\n  edgeDist = 100\\n  repelDist = 1.5 * edgeDist\\n  offset = 10\\n  loopRadius = 15\\n  pointerX = 6\\n  pointerY = 4\\n}\\n\\nforall Vertex v {\\n  v.dot = Circle {\\n    center: (? in dots, ? in dots)\\n    r: num.radius\\n    fillColor : color.black\\n  }\\n\\n  v.text = Text {\\n    string: v.label\\n    fillColor: color.black\\n    fontFamily: \\\"serif\\\"\\n    fontSize: \\\"18px\\\"\\n    strokeColor: color.white\\n    strokeWidth: 4\\n    paintOrder: \\\"stroke\\\"\\n  }\\n  v.halfSize = (v.text.width / 2, v.text.height / 2)\\n  v.bottomLeft = v.text.center - v.halfSize\\n  v.topRight = v.text.center + v.halfSize\\n\\n  v.text above v.dot\\n\\n  encourage shapeDistance(v.dot, v.text) == num.labelDist in text\\n}\\n\\nforall Vertex u; Vertex v {\\n  d = vdist(u.dot.center, v.dot.center)\\n  dHat = num.repelDist\\n  -- equation 6 from https://ipc-sim.github.io/\\n  encourage minimal(max(0, -sqr(d - dHat) * log(d / dHat))) in dots\\n\\n  ensure disjoint(u.text, v.text, num.labelDist) in text\\n}\\n\\nforall Vertex u; Vertex v; Link e where e := Edge(u, v) {\\n  a = u.dot.center\\n  b = v.dot.center\\n  t = normalize(b - a) -- tangent\\n  n = rot90(t) -- normal\\n  m = (a + b) / 2 -- midpoint\\n\\n  e.start = a\\n  e.end = b\\n  e.theta = angleOf(t)\\n  e.offset = ? in dots\\n  e.arrow = Path {\\n    d: quadraticCurveFromPoints(\\\"open\\\", [a, m + e.offset * n, b])\\n    strokeColor: color.black\\n  }\\n\\n  e.arrow below u.dot\\n  e.arrow below v.dot\\n\\n  encourage vdist(u.dot.center, v.dot.center) < num.edgeDist in dots\\n  encourage minimal(sqr(e.offset)) in dots\\n}\\n\\nforall Vertex u; Vertex v; Link e1; Link e2 where e1 := Edge(u, v); e2 := Edge(u, v) {\\n  ensure abs(e2.offset - e1.offset) > 2 * num.offset in dots\\n}\\n\\nforall Vertex u; Vertex v; Link e1; Link e2 where e1 := Edge(u, v); e2 := Edge(v, u) {\\n  ensure abs(e1.offset + e2.offset) > 2 * num.offset in dots\\n}\\n\\nforall Vertex u; Vertex v; Link e where e := Edge(u, v); u has label {\\n  encourage maximal(min(num.labelDist, rectLineDist(u.bottomLeft, u.topRight, e.start, e.end))) in text\\n}\\n\\nforall Vertex u; Vertex v; Link e where e := Edge(u, v); v has label {\\n  encourage maximal(min(num.labelDist, rectLineDist(v.bottomLeft, v.topRight, e.start, e.end))) in text\\n}\\n\\nforall Vertex u; Vertex v; Vertex w; Link e where e := Edge(u, v); w has label {\\n  encourage maximal(min(num.labelDist, rectLineDist(w.bottomLeft, w.topRight, e.start, e.end))) in text\\n}\\n\\nforall Vertex v; Link e where e := Edge(v, v) {\\n  e.theta = ? in loops\\n  n = (cos(e.theta), sin(e.theta)) -- normal\\n  delta = num.loopRadius * n\\n\\n  e.arrow = Circle {\\n    center: v.dot.center + delta\\n    r: num.loopRadius\\n    strokeWidth: 1\\n    strokeColor: color.black\\n    fillColor: none()\\n  }\\n\\n  e.arrow below v.dot\\n}\\n\\nforall Vertex u; Vertex v; Link e1; Link e2 where e1 := Edge(u, v); e2 := Edge(v, v) {\\n  encourage maximal(cos(e2.theta - e1.theta)) in loops\\n}\\n\\nforall Vertex u; Vertex v; Link e1; Link e2 where e1 := Edge(v, u); e2 := Edge(v, v) {\\n  encourage minimal(cos(e2.theta - e1.theta)) in loops\\n}\\n\";\n//# sourceMappingURL=pseudograph.style.js.map","export default \"type Vertex\\ntype Link\\nconstructor Edge(Vertex u, Vertex v) -> Link\\n\";\n//# sourceMappingURL=pseudograph.domain.js.map"],"names":["resolver","makeResolver","style0","domain"],"mappings":"2CACY,MAACA,EAAWC,EAAa,cAAc,EACnDC,EAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECFfC,EAAe;AAAA;AAAA;"}