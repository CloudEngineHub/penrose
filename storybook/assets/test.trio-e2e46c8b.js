import{m as n}from"./resolver-52f68c7c.js";import"./iframe-b9a20e36.js";const e=`-- domain: random-sampling.domain
-- style: random-sampling.style
-- variation: CocoaMagpie2612

Interval I
Point pI0 := sampleInterval( I )
Point pI1 := sampleInterval( I )
Point pI2 := sampleInterval( I )
Point pI3 := sampleInterval( I )
Point pI4 := sampleInterval( I )
Point pI5 := sampleInterval( I )
Point pI6 := sampleInterval( I )
Point pI7 := sampleInterval( I )
Point pI8 := sampleInterval( I )
Point pI9 := sampleInterval( I )
Point pI10 := sampleInterval( I )
Point pI11 := sampleInterval( I )
Point pI12 := sampleInterval( I )
Point pI13 := sampleInterval( I )
Point pI14 := sampleInterval( I )
Point pI15 := sampleInterval( I )
Point pI16 := sampleInterval( I )
Point pI17 := sampleInterval( I )
Point pI18 := sampleInterval( I )
Point pI19 := sampleInterval( I )
Point pI20 := sampleInterval( I )
Point pI21 := sampleInterval( I )
Point pI22 := sampleInterval( I )
Point pI23 := sampleInterval( I )
Point pI24 := sampleInterval( I )
Point pI25 := sampleInterval( I )
Point pI26 := sampleInterval( I )
Point pI27 := sampleInterval( I )
Point pI28 := sampleInterval( I )
Point pI29 := sampleInterval( I )
Point pI30 := sampleInterval( I )
Point pI31 := sampleInterval( I )

Circle C
Point pC0 := sampleCircle( C )
Point pC1 := sampleCircle( C )
Point pC2 := sampleCircle( C )
Point pC3 := sampleCircle( C )
Point pC4 := sampleCircle( C )
Point pC5 := sampleCircle( C )
Point pC6 := sampleCircle( C )
Point pC7 := sampleCircle( C )
Point pC8 := sampleCircle( C )
Point pC9 := sampleCircle( C )
Point pC10 := sampleCircle( C )
Point pC11 := sampleCircle( C )
Point pC12 := sampleCircle( C )
Point pC13 := sampleCircle( C )
Point pC14 := sampleCircle( C )
Point pC15 := sampleCircle( C )
Point pC16 := sampleCircle( C )
Point pC17 := sampleCircle( C )
Point pC18 := sampleCircle( C )
Point pC19 := sampleCircle( C )
Point pC20 := sampleCircle( C )
Point pC21 := sampleCircle( C )
Point pC22 := sampleCircle( C )
Point pC23 := sampleCircle( C )
Point pC24 := sampleCircle( C )
Point pC25 := sampleCircle( C )
Point pC26 := sampleCircle( C )
Point pC27 := sampleCircle( C )
Point pC28 := sampleCircle( C )
Point pC29 := sampleCircle( C )
Point pC30 := sampleCircle( C )
Point pC31 := sampleCircle( C )

Disk D
Point pD0 := sampleDisk( D )
Point pD1 := sampleDisk( D )
Point pD2 := sampleDisk( D )
Point pD3 := sampleDisk( D )
Point pD4 := sampleDisk( D )
Point pD5 := sampleDisk( D )
Point pD6 := sampleDisk( D )
Point pD7 := sampleDisk( D )
Point pD8 := sampleDisk( D )
Point pD9 := sampleDisk( D )
Point pD10 := sampleDisk( D )
Point pD11 := sampleDisk( D )
Point pD12 := sampleDisk( D )
Point pD13 := sampleDisk( D )
Point pD14 := sampleDisk( D )
Point pD15 := sampleDisk( D )
Point pD16 := sampleDisk( D )
Point pD17 := sampleDisk( D )
Point pD18 := sampleDisk( D )
Point pD19 := sampleDisk( D )
Point pD20 := sampleDisk( D )
Point pD21 := sampleDisk( D )
Point pD22 := sampleDisk( D )
Point pD23 := sampleDisk( D )
Point pD24 := sampleDisk( D )
Point pD25 := sampleDisk( D )
Point pD26 := sampleDisk( D )
Point pD27 := sampleDisk( D )
Point pD28 := sampleDisk( D )
Point pD29 := sampleDisk( D )
Point pD30 := sampleDisk( D )
Point pD31 := sampleDisk( D )

Triangle T
Point pT0 := sampleTriangle( T )
Point pT1 := sampleTriangle( T )
Point pT2 := sampleTriangle( T )
Point pT3 := sampleTriangle( T )
Point pT4 := sampleTriangle( T )
Point pT5 := sampleTriangle( T )
Point pT6 := sampleTriangle( T )
Point pT7 := sampleTriangle( T )
Point pT8 := sampleTriangle( T )
Point pT9 := sampleTriangle( T )
Point pT10 := sampleTriangle( T )
Point pT11 := sampleTriangle( T )
Point pT12 := sampleTriangle( T )
Point pT13 := sampleTriangle( T )
Point pT14 := sampleTriangle( T )
Point pT15 := sampleTriangle( T )
Point pT16 := sampleTriangle( T )
Point pT17 := sampleTriangle( T )
Point pT18 := sampleTriangle( T )
Point pT19 := sampleTriangle( T )
Point pT20 := sampleTriangle( T )
Point pT21 := sampleTriangle( T )
Point pT22 := sampleTriangle( T )
Point pT23 := sampleTriangle( T )
Point pT24 := sampleTriangle( T )
Point pT25 := sampleTriangle( T )
Point pT26 := sampleTriangle( T )
Point pT27 := sampleTriangle( T )
Point pT28 := sampleTriangle( T )
Point pT29 := sampleTriangle( T )
Point pT30 := sampleTriangle( T )
Point pT31 := sampleTriangle( T )

Sphere S
Point pS0 := sampleSphere( S )
Point pS1 := sampleSphere( S )
Point pS2 := sampleSphere( S )
Point pS3 := sampleSphere( S )
Point pS4 := sampleSphere( S )
Point pS5 := sampleSphere( S )
Point pS6 := sampleSphere( S )
Point pS7 := sampleSphere( S )
Point pS8 := sampleSphere( S )
Point pS9 := sampleSphere( S )
Point pS10 := sampleSphere( S )
Point pS11 := sampleSphere( S )
Point pS12 := sampleSphere( S )
Point pS13 := sampleSphere( S )
Point pS14 := sampleSphere( S )
Point pS15 := sampleSphere( S )
Point pS16 := sampleSphere( S )
Point pS17 := sampleSphere( S )
Point pS18 := sampleSphere( S )
Point pS19 := sampleSphere( S )
Point pS20 := sampleSphere( S )
Point pS21 := sampleSphere( S )
Point pS22 := sampleSphere( S )
Point pS23 := sampleSphere( S )
Point pS24 := sampleSphere( S )
Point pS25 := sampleSphere( S )
Point pS26 := sampleSphere( S )
Point pS27 := sampleSphere( S )
Point pS28 := sampleSphere( S )
Point pS29 := sampleSphere( S )
Point pS30 := sampleSphere( S )
Point pS31 := sampleSphere( S )
`,l=n("random-sampling"),a=`----------------------------------------
-- Global parameters -------------------
----------------------------------------

canvas {
   width = 240
   height = 200
}

colors {
   color black = #000
   color blue = #1b1f8a33
   color darkBlue = #9ea6dd
   color shadow = rgba(0,0,0,.1)
}

global {
   scalar lineWidth = 0.65
   scalar overlapPadding = 5.0
   scalar shadowScaleX = 0.8
   scalar shadowScaleY = 0.25
}

----------------------------------------
-- Rules for drawing shapes ------------
----------------------------------------

forall Point p {
   -- location
   vec2 p.x = (?,?)

   -- draw as a small dot
   shape p.icon = Circle {
      center: p.x
      r: 0.8
      fillColor: colors.black
   }
}

forall Interval I {
   -- location of endpoints
   scalar x = ?
   scalar y = ?
   scalar w = random(50,150)
   vec2 I.x0 = (x-w/2,y)
   vec2 I.x1 = (x+w/2,y)

   -- draw as a horizontal line segment
   shape I.icon = Line {
      start: I.x0
      end: I.x1
      strokeWidth: global.lineWidth
      strokeColor: colors.black
   }
}

forall Circle C {
   -- center and radius
   vec2 C.center = (?,?)
   scalar C.r = random(10,35)

   -- draw as an empty circle
   shape C.icon = Circle {
      center: C.center
      r: C.r
      fillColor: none()
      strokeWidth: global.lineWidth
      strokeColor: colors.black
   }
}

forall Disk D {
   -- center and radius
   vec2 D.center = (?,?)
   scalar D.r = random(10,35)

   -- draw as a filled circle
   shape D.icon = Circle {
      center: D.center
      r: D.r
      fillColor: colors.blue
   }
}

forall Triangle T {
   -- vertices
   vec2 T.p0 = (?,?)
   vec2 T.p1 = (?,?)
   vec2 T.p2 = (?,?)

   -- make sure angles are reasonable
   scalar minAngle = MathPI()/6
   vec2 u = T.p1 - T.p0
   vec2 v = T.p2 - T.p1
   vec2 w = T.p0 - T.p2
   ensure angleBetween( -u, v ) > minAngle
   ensure angleBetween( -v, w ) > minAngle
   ensure angleBetween( -w, u ) > minAngle

   -- draw as a filled polygon
   shape T.icon = Polygon {
      points: [T.p0, T.p1, T.p2]
      fillColor: colors.blue
   }
}

forall Sphere S {
   -- center and radius
   vec2 S.center = (?,?)
   scalar S.r = random(10,35)

   -- draw as a filled circle
   shape S.icon = Circle {
      center: S.center
      r: S.r
      fillColor: colors.blue
      strokeColor: colors.darkBlue
      strokeWidth: global.lineWidth
   }

   -- draw an equator
   shape S.equator = Ellipse {
      center: S.center
      rx: S.r
      ry: S.r/4.
      fillColor: none()
      strokeColor: colors.darkBlue
      strokeWidth: global.lineWidth
   }

   -- draw a shadow
   shape S.shadow = Ellipse {
      center: S.center - (0,1.1*S.r)
      rx: S.r * global.shadowScaleX
      ry: S.r * global.shadowScaleY
      fillColor: colors.shadow
   }

   layer S.equator above S.icon
   layer S.shadow below S.icon
}

-- draw points above shapes
forall Point p; Shape S {
   layer p.icon above S.icon
}

forall Point p; Sphere S {
   layer p.icon above S.equator
}

-- ensure that no two shapes overlap
forall Shape S1; Shape S2 {
   ensure disjoint( S1.icon, S2.icon, global.overlapPadding )
}

----------------------------------------
-- Rules for sampling shapes -----------
----------------------------------------

forall Point p; Interval I
where p := sampleInterval( I ) {
   scalar t = unitRandom()
   override p.x = (1-t)*I.x0 + t*I.x1
}

forall Point p; Circle C
where p := sampleCircle( C ) {
   vec2 y = circleRandom()
   override p.x = C.r*y + C.center
}

forall Point p; Disk D
where p := sampleDisk( D ) {
   vec2 y = diskRandom()
   override p.x = D.r*y + D.center
}

forall Point p; Triangle T
where p := sampleTriangle( T ) {
   vec2 y = triangleRandom( T.p0, T.p1, T.p2 )
   override p.x = y
}

forall Point p; Sphere S
where p := sampleSphere( S ) {

   -- sample a 3D point and project to 2D
   scalar cameraZ = 2
   vec3 Y = sphereRandom()
   vec2 y = (Y[0],Y[1])/(Y[2]+cameraZ)
   override p.x = 1.7*S.r*y + S.center

   -- set point scale and opacity based
   -- on distance from camera
   scalar R = .05*S.r/(Y[2]+cameraZ)
   scalar alpha = 1./(Y[2]+cameraZ)
   override p.icon.r = R
   override p.icon.fillColor = rgba(0,0,0,alpha)

   -- draw a shadow for the point
   vec2 y0 = ( S.r*global.shadowScaleX*y[0], S.r*global.shadowScaleY*y[1] )

   shape p.shadow = Circle {
      center: y0 + S.center - (0,1.1*S.r)
      r: R
      fillColor: colors.shadow
   }
}

`,p=`type Point

type Shape
type Interval <: Shape
type Circle <: Shape
type Disk <: Shape
type Triangle <: Shape
type Sphere <: Shape

constructor sampleInterval( Interval I ) -> Point p
constructor   sampleCircle(   Circle C ) -> Point p
constructor     sampleDisk(     Disk D ) -> Point p
constructor sampleTriangle( Triangle T ) -> Point p
constructor   sampleSphere(   Sphere S ) -> Point p

`,r={substance:e,style:[{contents:a,resolver:l}],domain:p,variation:"CocoaMagpie2612"};export{r as default};
//# sourceMappingURL=test.trio-e2e46c8b.js.map
